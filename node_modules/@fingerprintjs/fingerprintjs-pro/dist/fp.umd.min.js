/**
 * FingerprintJS Pro v3.7.1 - Copyright (c) FingerprintJS, Inc, 2022 (https://fingerprint.com)
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FingerprintJS={})}(this,(function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,R=1,n=arguments.length;R<n;R++)for(var r in t=arguments[R])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function R(e){for(var t="",R=0;R<e.length;++R)if(R>0){var n=e[R].toLowerCase();n!==e[R]?t+=" "+n:t+=e[R]}else t+=e[R].toUpperCase();return t}var n="Client timeout",r="Network connection error",o="Network request aborted",i="Response cannot be parsed",E="Blocked by CSP",O=R("WrongRegion"),_=R("SubscriptionNotActive"),a=R("UnsupportedVersion"),u=R("InstallationMethodRestricted"),c=R("HostnameRestricted"),l="API key required",s="API key not found",I="API key expired",f="Request cannot be parsed",d="Request failed",p="Request failed to process",N="Too many requests, rate limit exceeded",T="Not available for this origin",v="Not available with restricted header",h=l,A=s,D=I,P="3.7.1";function y(e,t,R){return void 0===R&&(R=0),t(R).catch((function(n){if(R>=e.maxRetries||!e.shouldRetry(n))throw n;var r,o,i,E,O=(r=e.baseDelay,o=e.maxDelay,i=e.baseDelay*Math.pow(2,R),Math.max(r,Math.min(o,i)));return(E=O,new Promise((function(e){return setTimeout(e,E)}))).then((function(){return y(e,t,R+1)}))}))}var S="Failed to load the JS script of the agent",m="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js";function b(e){var R,n,r=e.scriptUrlPattern,o=e.token,i=e.apiKey,O=void 0===i?o:i,_=function(e,t){var R={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(R[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(R[n[r]]=e[n[r]])}return R}(e,["scriptUrlPattern","token","apiKey"]),a=(R=e,n="scriptUrlPattern",Object.prototype.hasOwnProperty.call(R,n)?r:void 0),u=[];return Promise.resolve().then((function(){if(!O||"string"!=typeof O)throw new Error(l);return y({maxRetries:5,baseDelay:100,maxDelay:3e3,shouldRetry:function(e){return!(e instanceof Error&&e.message===E)}},(function(){var e,t=new Date,R=function(){return u.push({startedAt:t,finishedAt:new Date})},n=function(e,t,R,n){var r,o=document,i="securitypolicyviolation",E=function(t){var R=new URL(e,location.href),n=t.blockedURI;n!==R.href&&n!==R.protocol.slice(0,-1)&&n!==R.origin||(r=t,O())};o.addEventListener(i,E);var O=function(){return o.removeEventListener(i,E)};return null==n||n.then(O,O),Promise.resolve().then(t).then((function(e){return O(),e}),(function(e){return new Promise((function(e){return setTimeout(e)})).then((function(){if(O(),r)return R(r);throw e}))}))}(e=function(e,t){void 0===t&&(t=m);var R=encodeURIComponent;return t.replace(/<[^<>]+>/g,(function(t){return"<version>"===t?"3":"<apiKey>"===t?R(e):"<loaderVersion>"===t?R(P):t}))}(O,a),(function(){return function(e){return new Promise((function(t,R){var n=document.createElement("script"),r=function(){var e;return null===(e=n.parentNode)||void 0===e?void 0:e.removeChild(n)},o=document.head||document.getElementsByTagName("head")[0];n.onload=function(){r(),t()},n.onerror=function(){r(),R(new Error(S))},n.async=!0,n.src=e,o.appendChild(n)}))}(e)}),(function(){throw new Error(E)}));return n.then(R,R),n}))})).then((function(){var e=window,R="__fpjs_p_l_b",n=e[R];if(function(e,t){var R,n=null===(R=Object.getOwnPropertyDescriptor)||void 0===R?void 0:R.call(Object,e,t);(null==n?void 0:n.configurable)?delete e[t]:n&&!n.writable||(e[t]=void 0)}(e,R),"function"!=typeof(null==n?void 0:n.load))throw new Error(S);return n.load(t(t({},_),{ldi:{attempts:u}}))}))}var w={load:b,ERROR_SCRIPT_LOAD_FAIL:S,ERROR_API_KEY_EXPIRED:I,ERROR_API_KEY_INVALID:s,ERROR_API_KEY_MISSING:l,ERROR_BAD_REQUEST_FORMAT:f,ERROR_BAD_RESPONSE_FORMAT:i,ERROR_CLIENT_TIMEOUT:n,ERROR_CSP_BLOCK:E,ERROR_FORBIDDEN_ENDPOINT:c,ERROR_FORBIDDEN_HEADER:v,ERROR_FORBIDDEN_ORIGIN:T,ERROR_GENERAL_SERVER_FAILURE:d,ERROR_INSTALLATION_METHOD_RESTRICTED:u,ERROR_NETWORK_ABORT:o,ERROR_NETWORK_CONNECTION:r,ERROR_RATE_LIMIT:N,ERROR_SERVER_TIMEOUT:p,ERROR_SUBSCRIPTION_NOT_ACTIVE:_,ERROR_TOKEN_EXPIRED:D,ERROR_TOKEN_INVALID:A,ERROR_TOKEN_MISSING:h,ERROR_UNSUPPORTED_VERSION:a,ERROR_WRONG_REGION:O};e.ERROR_API_KEY_EXPIRED=I,e.ERROR_API_KEY_INVALID=s,e.ERROR_API_KEY_MISSING=l,e.ERROR_BAD_REQUEST_FORMAT=f,e.ERROR_BAD_RESPONSE_FORMAT=i,e.ERROR_CLIENT_TIMEOUT=n,e.ERROR_CSP_BLOCK=E,e.ERROR_FORBIDDEN_ENDPOINT=c,e.ERROR_FORBIDDEN_HEADER=v,e.ERROR_FORBIDDEN_ORIGIN=T,e.ERROR_GENERAL_SERVER_FAILURE=d,e.ERROR_INSTALLATION_METHOD_RESTRICTED=u,e.ERROR_NETWORK_ABORT=o,e.ERROR_NETWORK_CONNECTION=r,e.ERROR_RATE_LIMIT=N,e.ERROR_SCRIPT_LOAD_FAIL=S,e.ERROR_SERVER_TIMEOUT=p,e.ERROR_SUBSCRIPTION_NOT_ACTIVE=_,e.ERROR_TOKEN_EXPIRED=D,e.ERROR_TOKEN_INVALID=A,e.ERROR_TOKEN_MISSING=h,e.ERROR_UNSUPPORTED_VERSION=a,e.ERROR_WRONG_REGION=O,e.default=w,e.load=b,Object.defineProperty(e,"__esModule",{value:!0})}));
